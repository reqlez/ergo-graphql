"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const malformedTransaction_1 = require("../errors/malformedTransaction");
const notAllowedTokenBurning_1 = require("../errors/notAllowedTokenBurning");
const mockBoxes_1 = require("../mocks/mockBoxes");
const models_1 = require("../models");
const types_1 = require("../types");
const arrayUtils_1 = require("../utils/arrayUtils");
const bigIntUtils_1 = require("../utils/bigIntUtils");
const boxUtils_1 = require("../utils/boxUtils");
const outputBuilder_1 = require("./outputBuilder");
const transactionBuilder_1 = require("./transactionBuilder");
const height = 844540;
const a1 = {
    address: "9hXBB1FS1UT5kiopced1LYXgPDoFgoFQsGnqPCbRaLZZ1YbJJHD",
    ergoTree: "0008cd038b5954b32bca426795d0f44abb147a561e2f7debad8c87e667b8f8c3fd3c56dd"
};
const a2 = {
    address: "9fRusAarL1KkrWQVsxSRVYnvWxaAT2A96cKtNn9tvPh5XUyCisr",
    ergoTree: "0008cd0278011ec0cf5feb92d61adb51dcb75876627ace6fd9446ab4cabc5313ab7b39a7"
};
describe("basic construction", () => {
    const token1 = "1fd6e032e8476c4aa54c18c1a308dce83940e8f4a28f576440513ed7326ad489";
    it("Should create a empty transaction builder", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock);
        expect(builder.inputs).toHaveLength(mockBoxes_1.regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(0);
        expect(builder.outputs).toHaveLength(0);
        expect(builder.changeAddress).toBeFalsy();
        expect(builder.fee).toBeFalsy();
        expect(builder.burning).toBeFalsy();
        expect(builder.settings).toBeTruthy();
        expect(builder.creationHeight).toBe(height);
    });
    it("Should add data inputs", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .withDataFrom(mockBoxes_1.regularBoxesMock.slice(0, 2));
        expect(builder.inputs).toHaveLength(mockBoxes_1.regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(2);
        expect(builder.outputs).toHaveLength(0);
    });
    it("Should add outputs", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a1.address, height));
        expect(builder.outputs).toHaveLength(1);
        expect(builder.inputs).toHaveLength(mockBoxes_1.regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(0);
    });
    it("Should set change address by base58 encoded address", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).sendChangeTo(a1.address);
        expect(builder.changeAddress?.toString()).toBe(a1.address);
    });
    it("Should set change address by ErgoTree", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).sendChangeTo(a1.ergoTree);
        expect(builder.changeAddress?.toString()).toBe(a1.address);
        expect(builder.changeAddress?.ergoTree).toBe(a1.ergoTree);
        expect(builder.changeAddress?.network).toBe(types_1.Network.Mainnet);
    });
    it("Should set change address by ErgoAddress", () => {
        const address = models_1.ErgoAddress.fromBase58(a1.address);
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).sendChangeTo(address);
        expect(builder.changeAddress).toBe(address);
    });
    it("Should set fee amount", () => {
        const fee = transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE * 3n;
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).payFee(fee);
        expect(builder.fee).toBe(fee);
    });
    it("Should set min recommended fee amount", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).payMinFee();
        expect(builder.fee).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
    });
    it("Should set burning tokens", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock).burnTokens({
            tokenId: token1,
            amount: "1"
        });
        expect(builder.burning).toHaveLength(1);
        expect(builder.burning?.toArray()[0]).toEqual({ tokenId: token1, amount: 1n });
    });
    it("Should set transaction building settings", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock);
        expect(builder.settings.canBurnTokens).toBeFalsy();
        expect(builder.settings.maxTokensPerChangeBox).toBe(models_1.MAX_TOKENS_PER_BOX);
        builder.configure((settings) => {
            settings.allowTokenBurn(true).setMaxTokensPerChangeBox(10);
        });
        expect(builder.settings.canBurnTokens).toBeTruthy();
        expect(builder.settings.maxTokensPerChangeBox).toBe(10);
    });
    it("Should eject context", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height).from(mockBoxes_1.regularBoxesMock);
        builder.eject(({ inputs, dataInputs, outputs, burning, settings }) => {
            expect(inputs).toBe(builder.inputs);
            expect(dataInputs).toBe(builder.dataInputs);
            expect(outputs).toBe(builder.outputs);
            expect(burning).toBe(builder.burning);
            expect(settings).toBe(builder.settings);
        });
    });
});
describe("Building", () => {
    it("Should build without change and fee", () => {
        const inputs = [(0, arrayUtils_1.first)(mockBoxes_1.regularBoxesMock)];
        const inputsSum = (0, bigIntUtils_1.sumBy)(inputs, (x) => x.value);
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .to(new outputBuilder_1.OutputBuilder(inputsSum, a1.address))
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(1);
        expect((0, bigIntUtils_1.sumBy)(transaction.outputs, (x) => (0, bigIntUtils_1.toBigInt)(x.value))).toBe(inputsSum);
        expect(transaction.outputs.flatMap((x) => x.assets)).toHaveLength(0);
    });
    it("Should build without change", () => {
        const inputs = [(0, arrayUtils_1.first)(mockBoxes_1.regularBoxesMock)];
        const inputsSum = (0, bigIntUtils_1.sumBy)(inputs, (x) => x.value);
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .to(new outputBuilder_1.OutputBuilder(inputsSum - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE, a1.address))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(2);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        expect(customOutput.ergoTree).toBe(a1.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(customOutput.value)).toBe(inputsSum - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(customOutput.assets).toHaveLength(0);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(feeOutput.value)).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect((0, bigIntUtils_1.sumBy)(transaction.outputs, (x) => (0, bigIntUtils_1.toBigInt)(x.value))).toBe(inputsSum);
    });
    it("Should build with only ERG change", () => {
        const inputs = [(0, arrayUtils_1.first)(mockBoxes_1.regularBoxesMock)];
        const inputsSum = (0, bigIntUtils_1.sumBy)(inputs, (x) => x.value);
        const change = inputsSum - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE;
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(2);
        const feeOutput = transaction.outputs[0];
        const changeOutput = transaction.outputs[1];
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(feeOutput.value)).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(changeOutput.value)).toBe(change);
        expect(changeOutput.assets).toHaveLength(0);
        expect(changeOutput.additionalRegisters).toEqual({});
        expect((0, bigIntUtils_1.sumBy)(transaction.outputs, (x) => (0, bigIntUtils_1.toBigInt)(x.value))).toBe(inputsSum);
    });
    it("Should build with one input only ERG change", () => {
        const inputs = [(0, arrayUtils_1.first)(mockBoxes_1.regularBoxesMock)];
        const inputsSum = (0, bigIntUtils_1.sumBy)(inputs, (x) => x.value);
        const change = inputsSum - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE - outputBuilder_1.SAFE_MIN_BOX_VALUE;
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a2.address, height + 1))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height + 1); // should preserve height
        expect((0, bigIntUtils_1.toBigInt)(customOutput.value)).toBe(outputBuilder_1.SAFE_MIN_BOX_VALUE);
        expect(customOutput.assets).toHaveLength(0);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(feeOutput.value)).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect((0, bigIntUtils_1.toBigInt)(changeOutput.value)).toBe(change);
        expect(changeOutput.assets).toHaveLength(0);
        expect(changeOutput.additionalRegisters).toEqual({});
        expect((0, bigIntUtils_1.sumBy)(transaction.outputs, (x) => (0, bigIntUtils_1.toBigInt)(x.value))).toBe(inputsSum);
    });
    it("Should build with multiple inputs and tokens with change", () => {
        const boxes = mockBoxes_1.regularBoxesMock.filter((input) => [
            "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52",
            "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
            "490148afdc36f5459bbfd84922a446abea9a1077e031822f377b0ff3a6e467e3"
        ].includes(input.boxId));
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(boxes)
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a2.address).addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 100n
        }))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(2);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe(outputBuilder_1.SAFE_MIN_BOX_VALUE.toString());
        expect(customOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "100"
            }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE.toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(changeOutput.value).toBe("67498900000");
        expect(changeOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "9900"
            }
        ]);
        expect(changeOutput.additionalRegisters).toEqual({});
    });
    it("Should build with multiple inputs and tokens with change and input inclusion insurance", () => {
        const boxes = mockBoxes_1.regularBoxesMock.filter((input) => [
            "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52",
            "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
            "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"
        ].includes(input.boxId));
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(boxes, (selector) => selector.ensureInclusion((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"))
            .to(new outputBuilder_1.OutputBuilder(500000000n, a2.address).addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 180n
        }))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build("default");
        expect(transaction.inputs).toEqual([
            { boxId: "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d", extension: {} },
            { boxId: "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52", extension: {} }
        ]);
        expect(transaction.inputs).toHaveLength(2);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe("500000000");
        expect(customOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "180"
            }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE.toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(changeOutput.value).toBe("499900000");
        expect(changeOutput.assets).toEqual([
            {
                tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
                amount: "10"
            },
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "9820"
            }
        ]);
        expect(changeOutput.additionalRegisters).toEqual({});
    });
    it("Should produce multiple change boxes and run multiple input selections if necessary", () => {
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.manyTokensBoxesMock)
            .to(new outputBuilder_1.OutputBuilder(2200000n, a2.address)
            .addTokens({
            tokenId: "31d6f93435540f52f067efe2c5888b8d4c4418a4fd28156dd834102c8336a804",
            amount: 1n
        })
            .addTokens({
            tokenId: "8565b6d9b72d0cb8ca052f7e5b8cdf32905333b9e026162e3a6d585ae78e697b",
            amount: 1n
        }))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE * 2n)
            .sendChangeTo(a1.address)
            .build();
        expect((0, bigIntUtils_1.sumBy)(mockBoxes_1.manyTokensBoxesMock, (x) => (0, bigIntUtils_1.toBigInt)(x.value))).toBe((0, bigIntUtils_1.sumBy)(transaction.outputs, (x) => (0, bigIntUtils_1.toBigInt)(x.value)));
        expect(transaction.inputs).toHaveLength(3);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(5);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const change1 = transaction.outputs[2];
        const change2 = transaction.outputs[3];
        const change3 = transaction.outputs[4];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe("2200000");
        expect(customOutput.assets).toEqual([
            { tokenId: "31d6f93435540f52f067efe2c5888b8d4c4418a4fd28156dd834102c8336a804", amount: "1" },
            { tokenId: "8565b6d9b72d0cb8ca052f7e5b8cdf32905333b9e026162e3a6d585ae78e697b", amount: "1" }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(transactionBuilder_1.FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe((transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE * 2n).toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(change1.ergoTree).toBe(a1.ergoTree);
        expect(change1.creationHeight).toBe(height);
        expect(change1.value).toBe("3465648");
        expect(change1.assets).toHaveLength(models_1.MAX_TOKENS_PER_BOX);
        expect(change1.additionalRegisters).toEqual({});
        expect(change2.ergoTree).toBe(a1.ergoTree);
        expect(change2.creationHeight).toBe(height);
        expect(change2.value).toBe(outputBuilder_1.SAFE_MIN_BOX_VALUE.toString());
        expect(change2.assets).toHaveLength(models_1.MAX_TOKENS_PER_BOX);
        expect(change2.additionalRegisters).toEqual({});
        expect(change3.ergoTree).toBe(a1.ergoTree);
        expect(change3.creationHeight).toBe(height);
        expect(change3.value).toBe(outputBuilder_1.SAFE_MIN_BOX_VALUE.toString());
        expect(change3.assets).toHaveLength(32);
        expect(change3.additionalRegisters).toEqual({});
    });
    it("Should produce multiple change boxes based on maxTokensPerChangeBox param", () => {
        const tokensPerBox = 2;
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock, (selector) => selector.ensureInclusion((i) => (0, arrayUtils_1.some)(i.assets)))
            .sendChangeTo(a1.address)
            .configure((settings) => settings.setMaxTokensPerChangeBox(tokensPerBox))
            .build();
        expect(transaction.inputs).toHaveLength(4);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(11);
        for (let i = 0; i < transaction.outputs.length; i++) {
            if (i < transaction.outputs.length - 1) {
                expect(transaction.outputs[i].assets).toHaveLength(tokensPerBox);
            }
            else {
                expect(transaction.outputs[i].assets.length <= tokensPerBox).toBeTruthy();
            }
        }
    });
    it("Should build in EIP-12 format", () => {
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .withDataFrom(mockBoxes_1.regularBoxesMock[1])
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a2.address))
            .payMinFee()
            .sendChangeTo(a1.address)
            .build("EIP-12");
        expect(transaction.inputs).toEqual([
            {
                additionalRegisters: {},
                assets: [],
                boxId: "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
                creationHeight: 284761,
                ergoTree: "100204a00b08cd021dde34603426402615658f1d970cfa7c7bd92ac81a8b16eeebff264d59ce4604ea02d192a39a8cc7a70173007301",
                extension: {},
                index: 1,
                transactionId: "9148408c04c2e38a6402a7950d6157730fa7d49e9ab3b9cadec481d7769918e9",
                value: "67500000000"
            }
        ]);
        expect(transaction.dataInputs).toEqual([
            {
                additionalRegisters: {
                    R4: "110780f0b252a4048088bdfa9e60808c8d9e0200c80180f8efcc9f60",
                    R5: "0e20aae3684e4e7c78c8d8e62f866345bd5c70543ac73f4a06142292f0693c9bdd60"
                },
                assets: [
                    {
                        amount: "226642336",
                        tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283"
                    }
                ],
                boxId: "a2c9821f5c2df9c320f17136f043b33f7716713ab74c84d687885f9dd39d2c8a",
                creationHeight: 805063,
                ergoTree: "1012040204000404040004020406040c0408040a050004000402040204000400040404000400d812d601b2a4730000d602e4c6a7050ed603b2db6308a7730100d6048c720302d605db6903db6503fed606e4c6a70411d6079d997205b27206730200b27206730300d608b27206730400d609b27206730500d60a9972097204d60b95917205b272067306009d9c7209b27206730700b272067308007309d60c959272077208997209720a999a9d9c7207997209720b7208720b720ad60d937204720cd60e95720db2a5730a00b2a5730b00d60fdb6308720ed610b2720f730c00d6118c720301d612b2a5730d00d1eded96830201aedb63087201d901134d0e938c721301720293c5b2a4730e00c5a79683050193c2720ec2720193b1720f730f938cb2720f731000017202938c7210017211938c721002720cec720dd801d613b2db630872127311009683060193c17212c1a793c27212c2a7938c7213017211938c721302997204720c93e4c67212050e720293e4c6721204117206",
                extension: {},
                index: 0,
                transactionId: "f82fa15166d787c275a6a5ab29983f6386571c63e50c73c1af7cba184f85ef23",
                value: "1000000"
            }
        ]);
    });
});
describe("Token minting", () => {
    it("Should use first input boxId as minted tokenId", () => {
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a1.address).mintToken({
            amount: 100n,
            name: "TestToken",
            decimals: 4,
            description: "Description test"
        }))
            .sendChangeTo(a1.address)
            .payMinFee()
            .build();
        const mintingBox = transaction.outputs[0];
        expect(mintingBox.assets).toEqual([{ tokenId: transaction.inputs[0].boxId, amount: "100" }]);
        expect(mintingBox.additionalRegisters).toEqual({
            R4: "0e0954657374546f6b656e",
            R5: "0e104465736372697074696f6e2074657374",
            R6: "0e0134"
        });
    });
    it("Should mint and transfer other tokens in the same box", () => {
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .to(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a1.address)
            .mintToken({
            amount: 100n,
            name: "Test"
        })
            .addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 1n
        }))
            .sendChangeTo(a1.address)
            .payMinFee()
            .build();
        const mintingBox = transaction.outputs[0];
        expect(mintingBox.assets).toEqual([
            { tokenId: transaction.inputs[0].boxId, amount: "100" },
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "1"
            }
        ]);
    });
    it("Should fail if trying to mint more than one token", () => {
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .to([
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a1.address).mintToken({ name: "token1", amount: 1n }),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, a2.address).mintToken({ name: "token2", amount: 1n })
        ]);
        expect(() => {
            builder.build();
        }).toThrow(malformedTransaction_1.MalformedTransaction);
    });
});
describe("Token burning", () => {
    it("Should explicitly burn tokens", () => {
        const nftTokenId = "bf2afb01fde7e373e22f24032434a7b883913bd87a23b62ee8b43eba53c9f6c2";
        const regularTokenId = "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283";
        expect((0, boxUtils_1.sumByTokenId)(mockBoxes_1.regularBoxesMock, "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283")).toBe(226679716n);
        const transactions = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .burnTokens([
            { tokenId: nftTokenId, amount: 1n },
            { tokenId: regularTokenId, amount: 126679716n }
        ])
            .sendChangeTo(a1.address)
            .build();
        const allOutputTokens = transactions.outputs.flatMap((x) => x.assets);
        expect(allOutputTokens.find((x) => x.tokenId === nftTokenId)).toBeFalsy();
        expect((0, bigIntUtils_1.sumBy)(allOutputTokens.filter((x) => x.tokenId === regularTokenId), (x) => (0, bigIntUtils_1.toBigInt)(x.amount))).toBe(100000000n);
    });
    it("Should burn tokens by omitting change address and explicitly allowing token burning", () => {
        const inputs = mockBoxes_1.regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d");
        // tokens can alternatively be burned by omitting the change address
        const transaction = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .to(new outputBuilder_1.OutputBuilder(1000000000n - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE, a1.address).addTokens({
            tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
            amount: 5n
        }))
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .configure((settings) => settings.allowTokenBurn(true)) // explicitly allow token burning
            .build();
        expect(transaction.outputs).toHaveLength(2);
        const output = transaction.outputs[0];
        expect(output.assets).toEqual([
            {
                tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
                amount: "5"
            }
        ]);
    });
    it("Should fail if burning is not explicit allowed", () => {
        const outputValue = (0, bigIntUtils_1.sumBy)(mockBoxes_1.regularBoxesMock, (x) => x.value) - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE;
        // tokens can alternatively be burned by omitting the change address
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock)
            .to(new outputBuilder_1.OutputBuilder(outputValue, a1.address)) // force add boxes to be included by adding all nanoergs
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(() => {
            builder.build();
        }).toThrow(notAllowedTokenBurning_1.NotAllowedTokenBurning);
    });
    it("Should fail if trying to burn ERG", () => {
        const outputValue = 1000000000n - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE;
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(mockBoxes_1.regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"))
            .to(new outputBuilder_1.OutputBuilder(outputValue - 1000000n, a1.address)) // will try to burn 1000000n
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE);
        expect(() => {
            builder.build();
        }).toThrow(malformedTransaction_1.MalformedTransaction);
    });
    it("Should fail if trying to burn ERG even if burning is explicitly allowed", () => {
        const outputValue = 1000000000n - transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE;
        const inputs = mockBoxes_1.regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d");
        const builder = new transactionBuilder_1.TransactionBuilder(height)
            .from(inputs)
            .to(new outputBuilder_1.OutputBuilder(outputValue - 1000000n, a1.address)) // will try to burn 1000000n
            .payFee(transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE)
            .configure((settings) => settings.allowTokenBurn(true));
        expect(() => {
            builder.build();
        }).toThrow(malformedTransaction_1.MalformedTransaction);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb25CdWlsZGVyLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYnVpbGRlci90cmFuc2FjdGlvbkJ1aWxkZXIuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlFQUFzRTtBQUN0RSw2RUFBMEU7QUFDMUUsa0RBQTJFO0FBQzNFLHNDQUE0RDtBQUM1RCxvQ0FBbUM7QUFDbkMsb0RBQWtEO0FBQ2xELHNEQUF1RDtBQUN2RCxnREFBaUQ7QUFDakQsbURBQW9FO0FBQ3BFLDZEQUFtRztBQUVuRyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDdEIsTUFBTSxFQUFFLEdBQUc7SUFDVCxPQUFPLEVBQUUscURBQXFEO0lBQzlELFFBQVEsRUFBRSwwRUFBMEU7Q0FDckYsQ0FBQztBQUVGLE1BQU0sRUFBRSxHQUFHO0lBQ1QsT0FBTyxFQUFFLHFEQUFxRDtJQUM5RCxRQUFRLEVBQUUsMEVBQTBFO0NBQ3JGLENBQUM7QUFFRixRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0lBQ2xDLE1BQU0sTUFBTSxHQUFHLGtFQUFrRSxDQUFDO0lBRWxGLEVBQUUsQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7UUFDbkQsTUFBTSxPQUFPLEdBQUcsSUFBSSx1Q0FBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsNEJBQWdCLENBQUMsQ0FBQztRQUV0RSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyw0QkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FB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