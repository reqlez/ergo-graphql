"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const outputBuilder_1 = require("../../builder/outputBuilder");
const transactionBuilder_1 = require("../../builder/transactionBuilder");
const errors_1 = require("../../errors");
const arrayUtils_1 = require("../../utils/arrayUtils");
const outputsCollection_1 = require("./outputsCollection");
const address = "9hY16vzHmmfyVBwKeFGHvb2bMFsG94A1u7To1QWtUokACyFVENQ";
const height = 845575;
describe("outputs collection", () => {
    it("Should create and empty collection", () => {
        const collection = new outputsCollection_1.OutputsCollection();
        expect(collection.isEmpty).toBeTruthy();
    });
    it("Should create a filled collection", () => {
        const collection = new outputsCollection_1.OutputsCollection([
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height)
        ]);
        expect(collection).toHaveLength(2);
    });
    it("Should add a single item", () => {
        const collection = new outputsCollection_1.OutputsCollection();
        const output = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height);
        collection.add(output);
        expect(collection).toHaveLength(1);
        expect((0, arrayUtils_1.first)(collection.toArray())).toBe(output);
    });
    it("Should add a multiple items", () => {
        const collection = new outputsCollection_1.OutputsCollection();
        const outputs = [
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height)
        ];
        collection.add(outputs);
        expect(collection).toHaveLength(2);
        expect(collection.toArray()).toEqual(outputs);
    });
    it("Should remove by object reference", () => {
        const outputA = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height);
        const outputB = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height);
        const collection = new outputsCollection_1.OutputsCollection([outputA, outputB]);
        expect(collection).toHaveLength(2);
        collection.remove(outputA);
        expect(collection).toHaveLength(1);
        expect(collection.toArray().includes(outputA)).toBeFalsy();
    });
    it("Should clone a collection", () => {
        const outputA = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height);
        const outputB = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height);
        const collection = new outputsCollection_1.OutputsCollection([outputA, outputB]);
        expect(collection).toHaveLength(2);
        const cloned = collection.clone();
        cloned.remove(outputA);
        expect(cloned).toHaveLength(1);
        expect(cloned.toArray().includes(outputA)).toBeFalsy();
        expect(collection).toHaveLength(2);
        expect(collection.toArray().includes(outputA)).toBeTruthy();
    });
    it("Should remove by index", () => {
        const outputA = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height);
        const outputB = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height);
        const collection = new outputsCollection_1.OutputsCollection([outputA, outputB]);
        expect(collection).toHaveLength(2);
        collection.remove(1);
        expect(collection).toHaveLength(1);
        expect(collection.toArray().includes(outputB)).toBeFalsy();
    });
    it("Should throw if not found", () => {
        const notIncludedOutput = new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 3n, address, height);
        const collection = new outputsCollection_1.OutputsCollection([
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height)
        ]);
        expect(() => {
            collection.remove(notIncludedOutput);
        }).toThrow(errors_1.NotFoundError);
    });
    it("Should throw if not found", () => {
        const collection = new outputsCollection_1.OutputsCollection([
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n, address, height),
            new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE * 3n, address, height)
        ]);
        expect(() => {
            collection.remove(-1);
        }).toThrow(RangeError);
        expect(() => {
            collection.remove(3);
        }).toThrow(RangeError);
        expect(() => {
            collection.remove(100);
        }).toThrow(RangeError);
    });
});
describe("Target building", () => {
    const tokenA = "1fd6e032e8476c4aa54c18c1a308dce83940e8f4a28f576440513ed7326ad489";
    const tokenB = "bf59773def7e08375a553be4cbd862de85f66e6dd3dccb8f87f53158f9255bf5";
    const tokenC = "4bdafc19f427fde7e335a38b1fac384143721249f037e0c2e2716631fdcc6741";
    const tokenD = "5614535ba46927145c3d30fed8f14b08bd48a143b24136809f9e47afc40643c4";
    it("Should sum amounts", () => {
        const collection = new outputsCollection_1.OutputsCollection()
            .add(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height).addTokens({
            tokenId: tokenA,
            amount: 12348n
        }))
            .add(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height)
            .addTokens({ tokenId: tokenA, amount: "11" })
            .addTokens({ tokenId: tokenB, amount: 50n }));
        expect(collection.sum()).toEqual({
            nanoErgs: outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n,
            tokens: [
                { tokenId: tokenA, amount: 12359n },
                { tokenId: tokenB, amount: 50n }
            ]
        });
    });
    it("Should ignore minting tokens", () => {
        const collection = new outputsCollection_1.OutputsCollection().add(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height)
            .addTokens({ tokenId: tokenA, amount: 12348n })
            .mintToken({ name: "testToken", amount: 10n }));
        expect(collection.sum()).toEqual({
            nanoErgs: outputBuilder_1.SAFE_MIN_BOX_VALUE,
            tokens: [{ tokenId: tokenA, amount: 12348n }]
        });
    });
    it("Should sum amounts and build target starting from a basis object", () => {
        const basis = {
            nanoErgs: transactionBuilder_1.RECOMMENDED_MIN_FEE_VALUE,
            tokens: [
                { tokenId: tokenA, amount: 12359n },
                { tokenId: tokenC, amount: 20n },
                { tokenId: tokenD, amount: undefined }
            ]
        };
        const collection = new outputsCollection_1.OutputsCollection()
            .add(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height).addTokens({
            tokenId: tokenA,
            amount: 12348n
        }))
            .add(new outputBuilder_1.OutputBuilder(outputBuilder_1.SAFE_MIN_BOX_VALUE, address, height)
            .addTokens({ tokenId: tokenA, amount: "11" })
            .addTokens({ tokenId: tokenB, amount: 50n }));
        expect(collection.sum(basis)).toEqual({
            nanoErgs: outputBuilder_1.SAFE_MIN_BOX_VALUE * 2n + basis.nanoErgs,
            tokens: [
                { tokenId: tokenA, amount: 12359n + (basis.tokens[0].amount || 0n) },
                { tokenId: basis.tokens[1].tokenId, amount: basis.tokens[1].amount },
                { tokenId: tokenB, amount: 50n }
            ]
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3V0cHV0c0NvbGxlY3Rpb24uc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9tb2RlbHMvY29sbGVjdGlvbnMvb3V0cHV0c0NvbGxlY3Rpb24uc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtEQUFnRjtBQUNoRix5RUFBNkU7QUFDN0UseUNBQTZDO0FBQzdDLHVEQUErQztBQUMvQywyREFBd0Q7QUFFeEQsTUFBTSxPQUFPLEdBQUcscURBQXFELENBQUM7QUFDdEUsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBRXRCLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7SUFDbEMsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUM1QyxNQUFNLFVBQVUsR0FBRyxJQUFJLHFDQUFpQixFQUFFLENBQUM7UUFDM0MsTUFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUMxQyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7UUFDM0MsTUFBTSxVQUFVLEdBQUcsSUFBSSxxQ0FBaUIsQ0FBQztZQUN2QyxJQUFJLDZCQUFhLENBQUMsa0NBQWtCLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQztZQUN0RCxJQUFJLDZCQUFhLENBQUMsa0NBQWtCLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQztTQUN2RCxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtRQUNsQyxNQUFNLFVBQVUsR0FBRyxJQUFJLHFDQUFpQixFQUFFLENBQUM7UUFDM0MsTUFBTSxNQUFNLEdBQUcsSUFBSSw2QkFBYSxDQUFDLGtDQUFrQixFQUFFLE9BQU8s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