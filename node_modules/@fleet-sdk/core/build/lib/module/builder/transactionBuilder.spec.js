import { MalformedTransaction } from "../errors/malformedTransaction";
import { NotAllowedTokenBurning } from "../errors/notAllowedTokenBurning";
import { manyTokensBoxesMock, regularBoxesMock } from "../mocks/mockBoxes";
import { ErgoAddress, MAX_TOKENS_PER_BOX } from "../models";
import { Network } from "../types";
import { first, some } from "../utils/arrayUtils";
import { sumBy, toBigInt } from "../utils/bigIntUtils";
import { sumByTokenId } from "../utils/boxUtils";
import { OutputBuilder, SAFE_MIN_BOX_VALUE } from "./outputBuilder";
import { FEE_CONTRACT, RECOMMENDED_MIN_FEE_VALUE, TransactionBuilder } from "./transactionBuilder";
const height = 844540;
const a1 = {
    address: "9hXBB1FS1UT5kiopced1LYXgPDoFgoFQsGnqPCbRaLZZ1YbJJHD",
    ergoTree: "0008cd038b5954b32bca426795d0f44abb147a561e2f7debad8c87e667b8f8c3fd3c56dd"
};
const a2 = {
    address: "9fRusAarL1KkrWQVsxSRVYnvWxaAT2A96cKtNn9tvPh5XUyCisr",
    ergoTree: "0008cd0278011ec0cf5feb92d61adb51dcb75876627ace6fd9446ab4cabc5313ab7b39a7"
};
describe("basic construction", () => {
    const token1 = "1fd6e032e8476c4aa54c18c1a308dce83940e8f4a28f576440513ed7326ad489";
    it("Should create a empty transaction builder", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock);
        expect(builder.inputs).toHaveLength(regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(0);
        expect(builder.outputs).toHaveLength(0);
        expect(builder.changeAddress).toBeFalsy();
        expect(builder.fee).toBeFalsy();
        expect(builder.burning).toBeFalsy();
        expect(builder.settings).toBeTruthy();
        expect(builder.creationHeight).toBe(height);
    });
    it("Should add data inputs", () => {
        const builder = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .withDataFrom(regularBoxesMock.slice(0, 2));
        expect(builder.inputs).toHaveLength(regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(2);
        expect(builder.outputs).toHaveLength(0);
    });
    it("Should add outputs", () => {
        const builder = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a1.address, height));
        expect(builder.outputs).toHaveLength(1);
        expect(builder.inputs).toHaveLength(regularBoxesMock.length);
        expect(builder.dataInputs).toHaveLength(0);
    });
    it("Should set change address by base58 encoded address", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock).sendChangeTo(a1.address);
        expect(builder.changeAddress?.toString()).toBe(a1.address);
    });
    it("Should set change address by ErgoTree", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock).sendChangeTo(a1.ergoTree);
        expect(builder.changeAddress?.toString()).toBe(a1.address);
        expect(builder.changeAddress?.ergoTree).toBe(a1.ergoTree);
        expect(builder.changeAddress?.network).toBe(Network.Mainnet);
    });
    it("Should set change address by ErgoAddress", () => {
        const address = ErgoAddress.fromBase58(a1.address);
        const builder = new TransactionBuilder(height).from(regularBoxesMock).sendChangeTo(address);
        expect(builder.changeAddress).toBe(address);
    });
    it("Should set fee amount", () => {
        const fee = RECOMMENDED_MIN_FEE_VALUE * 3n;
        const builder = new TransactionBuilder(height).from(regularBoxesMock).payFee(fee);
        expect(builder.fee).toBe(fee);
    });
    it("Should set min recommended fee amount", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock).payMinFee();
        expect(builder.fee).toBe(RECOMMENDED_MIN_FEE_VALUE);
    });
    it("Should set burning tokens", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock).burnTokens({
            tokenId: token1,
            amount: "1"
        });
        expect(builder.burning).toHaveLength(1);
        expect(builder.burning?.toArray()[0]).toEqual({ tokenId: token1, amount: 1n });
    });
    it("Should set transaction building settings", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock);
        expect(builder.settings.canBurnTokens).toBeFalsy();
        expect(builder.settings.maxTokensPerChangeBox).toBe(MAX_TOKENS_PER_BOX);
        builder.configure((settings) => {
            settings.allowTokenBurn(true).setMaxTokensPerChangeBox(10);
        });
        expect(builder.settings.canBurnTokens).toBeTruthy();
        expect(builder.settings.maxTokensPerChangeBox).toBe(10);
    });
    it("Should eject context", () => {
        const builder = new TransactionBuilder(height).from(regularBoxesMock);
        builder.eject(({ inputs, dataInputs, outputs, burning, settings }) => {
            expect(inputs).toBe(builder.inputs);
            expect(dataInputs).toBe(builder.dataInputs);
            expect(outputs).toBe(builder.outputs);
            expect(burning).toBe(builder.burning);
            expect(settings).toBe(builder.settings);
        });
    });
});
describe("Building", () => {
    it("Should build without change and fee", () => {
        const inputs = [first(regularBoxesMock)];
        const inputsSum = sumBy(inputs, (x) => x.value);
        const transaction = new TransactionBuilder(height)
            .from(inputs)
            .to(new OutputBuilder(inputsSum, a1.address))
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(1);
        expect(sumBy(transaction.outputs, (x) => toBigInt(x.value))).toBe(inputsSum);
        expect(transaction.outputs.flatMap((x) => x.assets)).toHaveLength(0);
    });
    it("Should build without change", () => {
        const inputs = [first(regularBoxesMock)];
        const inputsSum = sumBy(inputs, (x) => x.value);
        const transaction = new TransactionBuilder(height)
            .from(inputs)
            .to(new OutputBuilder(inputsSum - RECOMMENDED_MIN_FEE_VALUE, a1.address))
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(2);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        expect(customOutput.ergoTree).toBe(a1.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(toBigInt(customOutput.value)).toBe(inputsSum - RECOMMENDED_MIN_FEE_VALUE);
        expect(customOutput.assets).toHaveLength(0);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(toBigInt(feeOutput.value)).toBe(RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(sumBy(transaction.outputs, (x) => toBigInt(x.value))).toBe(inputsSum);
    });
    it("Should build with only ERG change", () => {
        const inputs = [first(regularBoxesMock)];
        const inputsSum = sumBy(inputs, (x) => x.value);
        const change = inputsSum - RECOMMENDED_MIN_FEE_VALUE;
        const transaction = new TransactionBuilder(height)
            .from(inputs)
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(2);
        const feeOutput = transaction.outputs[0];
        const changeOutput = transaction.outputs[1];
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(toBigInt(feeOutput.value)).toBe(RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(toBigInt(changeOutput.value)).toBe(change);
        expect(changeOutput.assets).toHaveLength(0);
        expect(changeOutput.additionalRegisters).toEqual({});
        expect(sumBy(transaction.outputs, (x) => toBigInt(x.value))).toBe(inputsSum);
    });
    it("Should build with one input only ERG change", () => {
        const inputs = [first(regularBoxesMock)];
        const inputsSum = sumBy(inputs, (x) => x.value);
        const change = inputsSum - RECOMMENDED_MIN_FEE_VALUE - SAFE_MIN_BOX_VALUE;
        const transaction = new TransactionBuilder(height)
            .from(inputs)
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a2.address, height + 1))
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(inputs.length);
        expect(transaction.inputs).toEqual(inputs.map((input) => ({ boxId: input.boxId, extension: {} })));
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height + 1); // should preserve height
        expect(toBigInt(customOutput.value)).toBe(SAFE_MIN_BOX_VALUE);
        expect(customOutput.assets).toHaveLength(0);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(toBigInt(feeOutput.value)).toBe(RECOMMENDED_MIN_FEE_VALUE);
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(toBigInt(changeOutput.value)).toBe(change);
        expect(changeOutput.assets).toHaveLength(0);
        expect(changeOutput.additionalRegisters).toEqual({});
        expect(sumBy(transaction.outputs, (x) => toBigInt(x.value))).toBe(inputsSum);
    });
    it("Should build with multiple inputs and tokens with change", () => {
        const boxes = regularBoxesMock.filter((input) => [
            "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52",
            "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
            "490148afdc36f5459bbfd84922a446abea9a1077e031822f377b0ff3a6e467e3"
        ].includes(input.boxId));
        const transaction = new TransactionBuilder(height)
            .from(boxes)
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a2.address).addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 100n
        }))
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build();
        expect(transaction.inputs).toHaveLength(2);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe(SAFE_MIN_BOX_VALUE.toString());
        expect(customOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "100"
            }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe(RECOMMENDED_MIN_FEE_VALUE.toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(changeOutput.value).toBe("67498900000");
        expect(changeOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "9900"
            }
        ]);
        expect(changeOutput.additionalRegisters).toEqual({});
    });
    it("Should build with multiple inputs and tokens with change and input inclusion insurance", () => {
        const boxes = regularBoxesMock.filter((input) => [
            "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52",
            "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
            "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"
        ].includes(input.boxId));
        const transaction = new TransactionBuilder(height)
            .from(boxes, (selector) => selector.ensureInclusion((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"))
            .to(new OutputBuilder(500000000n, a2.address).addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 180n
        }))
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .sendChangeTo(a1.address)
            .build("default");
        expect(transaction.inputs).toEqual([
            { boxId: "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d", extension: {} },
            { boxId: "3e67b4be7012956aa369538b46d751a4ad0136138760553d5400a10153046e52", extension: {} }
        ]);
        expect(transaction.inputs).toHaveLength(2);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(3);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const changeOutput = transaction.outputs[2];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe("500000000");
        expect(customOutput.assets).toEqual([
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "180"
            }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe(RECOMMENDED_MIN_FEE_VALUE.toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(changeOutput.ergoTree).toBe(a1.ergoTree);
        expect(changeOutput.creationHeight).toBe(height);
        expect(changeOutput.value).toBe("499900000");
        expect(changeOutput.assets).toEqual([
            {
                tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
                amount: "10"
            },
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "9820"
            }
        ]);
        expect(changeOutput.additionalRegisters).toEqual({});
    });
    it("Should produce multiple change boxes and run multiple input selections if necessary", () => {
        const transaction = new TransactionBuilder(height)
            .from(manyTokensBoxesMock)
            .to(new OutputBuilder(2200000n, a2.address)
            .addTokens({
            tokenId: "31d6f93435540f52f067efe2c5888b8d4c4418a4fd28156dd834102c8336a804",
            amount: 1n
        })
            .addTokens({
            tokenId: "8565b6d9b72d0cb8ca052f7e5b8cdf32905333b9e026162e3a6d585ae78e697b",
            amount: 1n
        }))
            .payFee(RECOMMENDED_MIN_FEE_VALUE * 2n)
            .sendChangeTo(a1.address)
            .build();
        expect(sumBy(manyTokensBoxesMock, (x) => toBigInt(x.value))).toBe(sumBy(transaction.outputs, (x) => toBigInt(x.value)));
        expect(transaction.inputs).toHaveLength(3);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(5);
        const customOutput = transaction.outputs[0];
        const feeOutput = transaction.outputs[1];
        const change1 = transaction.outputs[2];
        const change2 = transaction.outputs[3];
        const change3 = transaction.outputs[4];
        expect(customOutput.ergoTree).toBe(a2.ergoTree);
        expect(customOutput.creationHeight).toBe(height);
        expect(customOutput.value).toBe("2200000");
        expect(customOutput.assets).toEqual([
            { tokenId: "31d6f93435540f52f067efe2c5888b8d4c4418a4fd28156dd834102c8336a804", amount: "1" },
            { tokenId: "8565b6d9b72d0cb8ca052f7e5b8cdf32905333b9e026162e3a6d585ae78e697b", amount: "1" }
        ]);
        expect(customOutput.additionalRegisters).toEqual({});
        expect(feeOutput.ergoTree).toBe(FEE_CONTRACT);
        expect(feeOutput.creationHeight).toBe(height);
        expect(feeOutput.value).toBe((RECOMMENDED_MIN_FEE_VALUE * 2n).toString());
        expect(feeOutput.assets).toHaveLength(0);
        expect(feeOutput.additionalRegisters).toEqual({});
        expect(change1.ergoTree).toBe(a1.ergoTree);
        expect(change1.creationHeight).toBe(height);
        expect(change1.value).toBe("3465648");
        expect(change1.assets).toHaveLength(MAX_TOKENS_PER_BOX);
        expect(change1.additionalRegisters).toEqual({});
        expect(change2.ergoTree).toBe(a1.ergoTree);
        expect(change2.creationHeight).toBe(height);
        expect(change2.value).toBe(SAFE_MIN_BOX_VALUE.toString());
        expect(change2.assets).toHaveLength(MAX_TOKENS_PER_BOX);
        expect(change2.additionalRegisters).toEqual({});
        expect(change3.ergoTree).toBe(a1.ergoTree);
        expect(change3.creationHeight).toBe(height);
        expect(change3.value).toBe(SAFE_MIN_BOX_VALUE.toString());
        expect(change3.assets).toHaveLength(32);
        expect(change3.additionalRegisters).toEqual({});
    });
    it("Should produce multiple change boxes based on maxTokensPerChangeBox param", () => {
        const tokensPerBox = 2;
        const transaction = new TransactionBuilder(height)
            .from(regularBoxesMock, (selector) => selector.ensureInclusion((i) => some(i.assets)))
            .sendChangeTo(a1.address)
            .configure((settings) => settings.setMaxTokensPerChangeBox(tokensPerBox))
            .build();
        expect(transaction.inputs).toHaveLength(4);
        expect(transaction.dataInputs).toHaveLength(0);
        expect(transaction.outputs).toHaveLength(11);
        for (let i = 0; i < transaction.outputs.length; i++) {
            if (i < transaction.outputs.length - 1) {
                expect(transaction.outputs[i].assets).toHaveLength(tokensPerBox);
            }
            else {
                expect(transaction.outputs[i].assets.length <= tokensPerBox).toBeTruthy();
            }
        }
    });
    it("Should build in EIP-12 format", () => {
        const transaction = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .withDataFrom(regularBoxesMock[1])
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a2.address))
            .payMinFee()
            .sendChangeTo(a1.address)
            .build("EIP-12");
        expect(transaction.inputs).toEqual([
            {
                additionalRegisters: {},
                assets: [],
                boxId: "e56847ed19b3dc6b72828fcfb992fdf7310828cf291221269b7ffc72fd66706e",
                creationHeight: 284761,
                ergoTree: "100204a00b08cd021dde34603426402615658f1d970cfa7c7bd92ac81a8b16eeebff264d59ce4604ea02d192a39a8cc7a70173007301",
                extension: {},
                index: 1,
                transactionId: "9148408c04c2e38a6402a7950d6157730fa7d49e9ab3b9cadec481d7769918e9",
                value: "67500000000"
            }
        ]);
        expect(transaction.dataInputs).toEqual([
            {
                additionalRegisters: {
                    R4: "110780f0b252a4048088bdfa9e60808c8d9e0200c80180f8efcc9f60",
                    R5: "0e20aae3684e4e7c78c8d8e62f866345bd5c70543ac73f4a06142292f0693c9bdd60"
                },
                assets: [
                    {
                        amount: "226642336",
                        tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283"
                    }
                ],
                boxId: "a2c9821f5c2df9c320f17136f043b33f7716713ab74c84d687885f9dd39d2c8a",
                creationHeight: 805063,
                ergoTree: "1012040204000404040004020406040c0408040a050004000402040204000400040404000400d812d601b2a4730000d602e4c6a7050ed603b2db6308a7730100d6048c720302d605db6903db6503fed606e4c6a70411d6079d997205b27206730200b27206730300d608b27206730400d609b27206730500d60a9972097204d60b95917205b272067306009d9c7209b27206730700b272067308007309d60c959272077208997209720a999a9d9c7207997209720b7208720b720ad60d937204720cd60e95720db2a5730a00b2a5730b00d60fdb6308720ed610b2720f730c00d6118c720301d612b2a5730d00d1eded96830201aedb63087201d901134d0e938c721301720293c5b2a4730e00c5a79683050193c2720ec2720193b1720f730f938cb2720f731000017202938c7210017211938c721002720cec720dd801d613b2db630872127311009683060193c17212c1a793c27212c2a7938c7213017211938c721302997204720c93e4c67212050e720293e4c6721204117206",
                extension: {},
                index: 0,
                transactionId: "f82fa15166d787c275a6a5ab29983f6386571c63e50c73c1af7cba184f85ef23",
                value: "1000000"
            }
        ]);
    });
});
describe("Token minting", () => {
    it("Should use first input boxId as minted tokenId", () => {
        const transaction = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a1.address).mintToken({
            amount: 100n,
            name: "TestToken",
            decimals: 4,
            description: "Description test"
        }))
            .sendChangeTo(a1.address)
            .payMinFee()
            .build();
        const mintingBox = transaction.outputs[0];
        expect(mintingBox.assets).toEqual([{ tokenId: transaction.inputs[0].boxId, amount: "100" }]);
        expect(mintingBox.additionalRegisters).toEqual({
            R4: "0e0954657374546f6b656e",
            R5: "0e104465736372697074696f6e2074657374",
            R6: "0e0134"
        });
    });
    it("Should mint and transfer other tokens in the same box", () => {
        const transaction = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .to(new OutputBuilder(SAFE_MIN_BOX_VALUE, a1.address)
            .mintToken({
            amount: 100n,
            name: "Test"
        })
            .addTokens({
            tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
            amount: 1n
        }))
            .sendChangeTo(a1.address)
            .payMinFee()
            .build();
        const mintingBox = transaction.outputs[0];
        expect(mintingBox.assets).toEqual([
            { tokenId: transaction.inputs[0].boxId, amount: "100" },
            {
                tokenId: "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283",
                amount: "1"
            }
        ]);
    });
    it("Should fail if trying to mint more than one token", () => {
        const builder = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .to([
            new OutputBuilder(SAFE_MIN_BOX_VALUE, a1.address).mintToken({ name: "token1", amount: 1n }),
            new OutputBuilder(SAFE_MIN_BOX_VALUE, a2.address).mintToken({ name: "token2", amount: 1n })
        ]);
        expect(() => {
            builder.build();
        }).toThrow(MalformedTransaction);
    });
});
describe("Token burning", () => {
    it("Should explicitly burn tokens", () => {
        const nftTokenId = "bf2afb01fde7e373e22f24032434a7b883913bd87a23b62ee8b43eba53c9f6c2";
        const regularTokenId = "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283";
        expect(sumByTokenId(regularBoxesMock, "007fd64d1ee54d78dd269c8930a38286caa28d3f29d27cadcb796418ab15c283")).toBe(226679716n);
        const transactions = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .burnTokens([
            { tokenId: nftTokenId, amount: 1n },
            { tokenId: regularTokenId, amount: 126679716n }
        ])
            .sendChangeTo(a1.address)
            .build();
        const allOutputTokens = transactions.outputs.flatMap((x) => x.assets);
        expect(allOutputTokens.find((x) => x.tokenId === nftTokenId)).toBeFalsy();
        expect(sumBy(allOutputTokens.filter((x) => x.tokenId === regularTokenId), (x) => toBigInt(x.amount))).toBe(100000000n);
    });
    it("Should burn tokens by omitting change address and explicitly allowing token burning", () => {
        const inputs = regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d");
        // tokens can alternatively be burned by omitting the change address
        const transaction = new TransactionBuilder(height)
            .from(inputs)
            .to(new OutputBuilder(1000000000n - RECOMMENDED_MIN_FEE_VALUE, a1.address).addTokens({
            tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
            amount: 5n
        }))
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .configure((settings) => settings.allowTokenBurn(true)) // explicitly allow token burning
            .build();
        expect(transaction.outputs).toHaveLength(2);
        const output = transaction.outputs[0];
        expect(output.assets).toEqual([
            {
                tokenId: "0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b",
                amount: "5"
            }
        ]);
    });
    it("Should fail if burning is not explicit allowed", () => {
        const outputValue = sumBy(regularBoxesMock, (x) => x.value) - RECOMMENDED_MIN_FEE_VALUE;
        // tokens can alternatively be burned by omitting the change address
        const builder = new TransactionBuilder(height)
            .from(regularBoxesMock)
            .to(new OutputBuilder(outputValue, a1.address)) // force add boxes to be included by adding all nanoergs
            .payFee(RECOMMENDED_MIN_FEE_VALUE);
        expect(() => {
            builder.build();
        }).toThrow(NotAllowedTokenBurning);
    });
    it("Should fail if trying to burn ERG", () => {
        const outputValue = 1000000000n - RECOMMENDED_MIN_FEE_VALUE;
        const builder = new TransactionBuilder(height)
            .from(regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d"))
            .to(new OutputBuilder(outputValue - 1000000n, a1.address)) // will try to burn 1000000n
            .payFee(RECOMMENDED_MIN_FEE_VALUE);
        expect(() => {
            builder.build();
        }).toThrow(MalformedTransaction);
    });
    it("Should fail if trying to burn ERG even if burning is explicitly allowed", () => {
        const outputValue = 1000000000n - RECOMMENDED_MIN_FEE_VALUE;
        const inputs = regularBoxesMock.filter((input) => input.boxId === "2555e34138d276905fe0bc19240bbeca10f388a71f7b4d2f65a7d0bfd23c846d");
        const builder = new TransactionBuilder(height)
            .from(inputs)
            .to(new OutputBuilder(outputValue - 1000000n, a1.address)) // will try to burn 1000000n
            .payFee(RECOMMENDED_MIN_FEE_VALUE)
            .configure((settings) => settings.allowTokenBurn(true));
        expect(() => {
            builder.build();
        }).toThrow(MalformedTransaction);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb25CdWlsZGVyLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYnVpbGRlci90cmFuc2FjdGlvbkJ1aWxkZXIuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN0RSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUMxRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMzRSxPQUFPLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzVELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDbkMsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsYUFBYSxFQUFFLGtCQUFrQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFFLFlBQVksRUFBRSx5QkFBeUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRW5HLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUN0QixNQUFNLEVBQUUsR0FBRztJQUNULE9BQU8sRUFBRSxxREFBcUQ7SUFDOUQsUUFBUSxFQUFFLDBFQUEwRTtDQUNyRixDQUFDO0FBRUYsTUFBTSxFQUFFLEdBQUc7SUFDVCxPQUFPLEVBQUUscURBQXFEO0lBQzlELFFBQVEsRUFBRSwwRUFBMEU7Q0FDckYsQ0FBQztBQUVGLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7SUFDbEMsTUFBTSxNQUFN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